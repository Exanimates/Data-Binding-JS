class Model {
    constructor(mount, initial) {
        this.mount = mount;
        this.initial = initial;
        this.sub = [];   
       // for (var i = 0; i <  ; i++) 
        alert(mount.querySelectorAll('data-bind'));
    }
    
    
    
    subscribe(fn)
    {
        this.sub.push(fn);        
    }
    
    set(key, value)
    {
         key = key.split(".");
         if  (key.length == 1)
		         this.initial[key] = value;
          else			   
			 {				
				var object = this.initial;
				for (var i=0;i<key.length;i++)
					{
						if (typeof object[key[i]]!='object' && typeof object[key[i]]!='undefined')
							object[key[i]] = value;
						else							
						   object = object[key[i]];							
					}
			 } 
	  this.sub.forEach(l=>l(key,value));
    }

    get(key,value)
    {
        
    }
    toObject()
    {
        return this.initial;
    }
    
}



window.Model = Model